import{c as Y,j as A}from"./createLucideIcon.Dkxjm4wi.js";import{r}from"./index.BkdHoFEG.js";import{u as D,P as L}from"./supabase.client.D2OLuBHL.js";import{m as x,c as q,l as J,u as Q,d as T,g as X,b as Z,n as $}from"./Combination.Dh1SshfH.js";/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ee=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],be=Y("sparkles",ee);function te(e,t){return r.useReducer((o,n)=>t[o][n]??o,e)}var ne=e=>{const{present:t,children:o}=e,n=oe(t),d=typeof o=="function"?o({present:n.isPresent}):r.Children.only(o),p=D(n.ref,re(d));return typeof o=="function"||n.isPresent?r.cloneElement(d,{ref:p}):null};ne.displayName="Presence";function oe(e){const[t,o]=r.useState(),n=r.useRef(null),d=r.useRef(e),p=r.useRef("none"),g=e?"mounted":"unmounted",[R,u]=te(g,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return r.useEffect(()=>{const s=h(n.current);p.current=R==="mounted"?s:"none"},[R]),x(()=>{const s=n.current,c=d.current;if(c!==e){const v=p.current,l=h(s);e?u("MOUNT"):l==="none"||s?.display==="none"?u("UNMOUNT"):u(c&&v!==l?"ANIMATION_OUT":"UNMOUNT"),d.current=e}},[e,u]),x(()=>{if(t){let s;const c=t.ownerDocument.defaultView??window,m=l=>{const F=h(n.current).includes(CSS.escape(l.animationName));if(l.target===t&&F&&(u("ANIMATION_END"),!d.current)){const a=t.style.animationFillMode;t.style.animationFillMode="forwards",s=c.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=a)})}},v=l=>{l.target===t&&(p.current=h(n.current))};return t.addEventListener("animationstart",v),t.addEventListener("animationcancel",m),t.addEventListener("animationend",m),()=>{c.clearTimeout(s),t.removeEventListener("animationstart",v),t.removeEventListener("animationcancel",m),t.removeEventListener("animationend",m)}}else u("ANIMATION_END")},[t,u]),{isPresent:["mounted","unmountSuspended"].includes(R),ref:r.useCallback(s=>{n.current=s?getComputedStyle(s):null,o(s)},[])}}function h(e){return e?.animationName||"none"}function re(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,o=t&&"isReactWarning"in t&&t.isReactWarning;return o?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,o=t&&"isReactWarning"in t&&t.isReactWarning,o?e.props.ref:e.props.ref||e.ref)}var M="rovingFocusGroup.onEntryFocus",se={bubbles:!1,cancelable:!0},S="RovingFocusGroup",[O,U,ae]=J(S),[ce,Ae]=q(S,[ae]),[ie,ue]=ce(S),k=r.forwardRef((e,t)=>A.jsx(O.Provider,{scope:e.__scopeRovingFocusGroup,children:A.jsx(O.Slot,{scope:e.__scopeRovingFocusGroup,children:A.jsx(le,{...e,ref:t})})}));k.displayName=S;var le=r.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:o,orientation:n,loop:d=!1,dir:p,currentTabStopId:g,defaultCurrentTabStopId:R,onCurrentTabStopIdChange:u,onEntryFocus:s,preventScrollOnEntryFocus:c=!1,...m}=e,v=r.useRef(null),l=D(t,v),E=X(p),[F,a]=Z({prop:g,defaultProp:R??null,onChange:u,caller:S}),[I,y]=r.useState(!1),f=$(s),N=U(o),w=r.useRef(!1),[W,P]=r.useState(0);return r.useEffect(()=>{const i=v.current;if(i)return i.addEventListener(M,f),()=>i.removeEventListener(M,f)},[f]),A.jsx(ie,{scope:o,orientation:n,dir:E,loop:d,currentTabStopId:F,onItemFocus:r.useCallback(i=>a(i),[a]),onItemShiftTab:r.useCallback(()=>y(!0),[]),onFocusableItemAdd:r.useCallback(()=>P(i=>i+1),[]),onFocusableItemRemove:r.useCallback(()=>P(i=>i-1),[]),children:A.jsx(L.div,{tabIndex:I||W===0?-1:0,"data-orientation":n,...m,ref:l,style:{outline:"none",...e.style},onMouseDown:T(e.onMouseDown,()=>{w.current=!0}),onFocus:T(e.onFocus,i=>{const B=!w.current;if(i.target===i.currentTarget&&B&&!I){const _=new CustomEvent(M,se);if(i.currentTarget.dispatchEvent(_),!_.defaultPrevented){const C=N().filter(b=>b.focusable),z=C.find(b=>b.active),H=C.find(b=>b.id===F),V=[z,H,...C].filter(Boolean).map(b=>b.ref.current);K(V,c)}}w.current=!1}),onBlur:T(e.onBlur,()=>y(!1))})})}),G="RovingFocusGroupItem",j=r.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:o,focusable:n=!0,active:d=!1,tabStopId:p,children:g,...R}=e,u=Q(),s=p||u,c=ue(G,o),m=c.currentTabStopId===s,v=U(o),{onFocusableItemAdd:l,onFocusableItemRemove:E,currentTabStopId:F}=c;return r.useEffect(()=>{if(n)return l(),()=>E()},[n,l,E]),A.jsx(O.ItemSlot,{scope:o,id:s,focusable:n,active:d,children:A.jsx(L.span,{tabIndex:m?0:-1,"data-orientation":c.orientation,...R,ref:t,onMouseDown:T(e.onMouseDown,a=>{n?c.onItemFocus(s):a.preventDefault()}),onFocus:T(e.onFocus,()=>c.onItemFocus(s)),onKeyDown:T(e.onKeyDown,a=>{if(a.key==="Tab"&&a.shiftKey){c.onItemShiftTab();return}if(a.target!==a.currentTarget)return;const I=me(a,c.orientation,c.dir);if(I!==void 0){if(a.metaKey||a.ctrlKey||a.altKey||a.shiftKey)return;a.preventDefault();let f=v().filter(N=>N.focusable).map(N=>N.ref.current);if(I==="last")f.reverse();else if(I==="prev"||I==="next"){I==="prev"&&f.reverse();const N=f.indexOf(a.currentTarget);f=c.loop?pe(f,N+1):f.slice(N+1)}setTimeout(()=>K(f))}}),children:typeof g=="function"?g({isCurrentTabStop:m,hasTabStop:F!=null}):g})})});j.displayName=G;var de={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function fe(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function me(e,t,o){const n=fe(e.key,o);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return de[n]}function K(e,t=!1){const o=document.activeElement;for(const n of e)if(n===o||(n.focus({preventScroll:t}),document.activeElement!==o))return}function pe(e,t){return e.map((o,n)=>e[(t+n)%e.length])}var Ee=k,Fe=j;export{Fe as I,ne as P,Ee as R,be as S,Ae as c};
