import{c as z,j as o}from"./createLucideIcon.Dkxjm4wi.js";import{D as ln,T as pn}from"./DarkModeToggle.BEg8hsAg.js";import{P as I,u as O,f as fn,b as mn,g as ge,a as H,B as $,s as me}from"./supabase.client.D2OLuBHL.js";import{r as s}from"./index.BkdHoFEG.js";import{c as Me,k as hn,a as we,m as _e,f as xn,R as vn,A as gn,P as Mn,d as x,h as wn,j as _n,i as Cn,F as Rn,D as yn,C as Sn,e as bn,b as Dn,u as he}from"./Combination.B5VQhdor.js";import{c as Ce,P as X,I as Pn,R as In,S as En}from"./index.WDg7aBGv.js";import{c as jn,a as Nn}from"./telemetry.C471PJLg.js";import"./index.yjdR7O-I.js";/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const An=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Tn=z("book-open",An);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kn=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]],On=z("circle-user",kn);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ln=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],Fn=z("log-out",Ln);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gn=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Kn=z("user",Gn);var ne=["Enter"," "],Un=["ArrowDown","PageUp","Home"],Re=["ArrowUp","PageDown","End"],$n=[...Un,...Re],Bn={ltr:[...ne,"ArrowRight"],rtl:[...ne,"ArrowLeft"]},Vn={ltr:["ArrowLeft"],rtl:["ArrowRight"]},L="Menu",[T,zn,Hn]=hn(L),[R,ye]=Me(L,[Hn,we,Ce]),Y=we(),Se=Ce(),[Xn,y]=R(L),[Yn,F]=R(L),be=e=>{const{__scopeMenu:t,open:n=!1,children:r,dir:a,onOpenChange:c,modal:d=!0}=e,l=Y(t),[m,h]=s.useState(null),p=s.useRef(!1),i=_e(c),f=xn(a);return s.useEffect(()=>{const w=()=>{p.current=!0,document.addEventListener("pointerdown",v,{capture:!0,once:!0}),document.addEventListener("pointermove",v,{capture:!0,once:!0})},v=()=>p.current=!1;return document.addEventListener("keydown",w,{capture:!0}),()=>{document.removeEventListener("keydown",w,{capture:!0}),document.removeEventListener("pointerdown",v,{capture:!0}),document.removeEventListener("pointermove",v,{capture:!0})}},[]),o.jsx(vn,{...l,children:o.jsx(Xn,{scope:t,open:n,onOpenChange:i,content:m,onContentChange:h,children:o.jsx(Yn,{scope:t,onClose:s.useCallback(()=>i(!1),[i]),isUsingKeyboardRef:p,dir:f,modal:d,children:r})})})};be.displayName=L;var Wn="MenuAnchor",te=s.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,a=Y(n);return o.jsx(gn,{...a,...r,ref:t})});te.displayName=Wn;var oe="MenuPortal",[qn,De]=R(oe,{forceMount:void 0}),Pe=e=>{const{__scopeMenu:t,forceMount:n,children:r,container:a}=e,c=y(oe,t);return o.jsx(qn,{scope:t,forceMount:n,children:o.jsx(X,{present:n||c.open,children:o.jsx(Mn,{asChild:!0,container:a,children:r})})})};Pe.displayName=oe;var _="MenuContent",[Zn,re]=R(_),Ie=s.forwardRef((e,t)=>{const n=De(_,e.__scopeMenu),{forceMount:r=n.forceMount,...a}=e,c=y(_,e.__scopeMenu),d=F(_,e.__scopeMenu);return o.jsx(T.Provider,{scope:e.__scopeMenu,children:o.jsx(X,{present:r||c.open,children:o.jsx(T.Slot,{scope:e.__scopeMenu,children:d.modal?o.jsx(Jn,{...a,ref:t}):o.jsx(Qn,{...a,ref:t})})})})}),Jn=s.forwardRef((e,t)=>{const n=y(_,e.__scopeMenu),r=s.useRef(null),a=O(t,r);return s.useEffect(()=>{const c=r.current;if(c)return wn(c)},[]),o.jsx(ae,{...e,ref:a,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:x(e.onFocusOutside,c=>c.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),Qn=s.forwardRef((e,t)=>{const n=y(_,e.__scopeMenu);return o.jsx(ae,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),et=mn("MenuContent.ScrollLock"),ae=s.forwardRef((e,t)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:a,onOpenAutoFocus:c,onCloseAutoFocus:d,disableOutsidePointerEvents:l,onEntryFocus:m,onEscapeKeyDown:h,onPointerDownOutside:p,onFocusOutside:i,onInteractOutside:f,onDismiss:w,disableOutsideScroll:v,...S}=e,E=y(_,n),b=F(_,n),tn=Y(n),on=Se(n),ue=zn(n),[rn,de]=s.useState(null),G=s.useRef(null),an=O(t,G,E.onContentChange),K=s.useRef(0),U=s.useRef(""),sn=s.useRef(0),Z=s.useRef(null),le=s.useRef("right"),J=s.useRef(0),cn=v?Cn:s.Fragment,un=v?{as:et,allowPinchZoom:!0}:void 0,dn=u=>{const P=U.current+u,C=ue().filter(M=>!M.disabled),j=document.activeElement,Q=C.find(M=>M.ref.current===j)?.textValue,ee=C.map(M=>M.textValue),pe=pt(ee,P,Q),N=C.find(M=>M.textValue===pe)?.ref.current;(function M(fe){U.current=fe,window.clearTimeout(K.current),fe!==""&&(K.current=window.setTimeout(()=>M(""),1e3))})(P),N&&setTimeout(()=>N.focus())};s.useEffect(()=>()=>window.clearTimeout(K.current),[]),_n();const D=s.useCallback(u=>le.current===Z.current?.side&&mt(u,Z.current?.area),[]);return o.jsx(Zn,{scope:n,searchRef:U,onItemEnter:s.useCallback(u=>{D(u)&&u.preventDefault()},[D]),onItemLeave:s.useCallback(u=>{D(u)||(G.current?.focus(),de(null))},[D]),onTriggerLeave:s.useCallback(u=>{D(u)&&u.preventDefault()},[D]),pointerGraceTimerRef:sn,onPointerGraceIntentChange:s.useCallback(u=>{Z.current=u},[]),children:o.jsx(cn,{...un,children:o.jsx(Rn,{asChild:!0,trapped:a,onMountAutoFocus:x(c,u=>{u.preventDefault(),G.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:d,children:o.jsx(yn,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:h,onPointerDownOutside:p,onFocusOutside:i,onInteractOutside:f,onDismiss:w,children:o.jsx(In,{asChild:!0,...on,dir:b.dir,orientation:"vertical",loop:r,currentTabStopId:rn,onCurrentTabStopIdChange:de,onEntryFocus:x(m,u=>{b.isUsingKeyboardRef.current||u.preventDefault()}),preventScrollOnEntryFocus:!0,children:o.jsx(Sn,{role:"menu","aria-orientation":"vertical","data-state":ze(E.open),"data-radix-menu-content":"",dir:b.dir,...tn,...S,ref:an,style:{outline:"none",...S.style},onKeyDown:x(S.onKeyDown,u=>{const C=u.target.closest("[data-radix-menu-content]")===u.currentTarget,j=u.ctrlKey||u.altKey||u.metaKey,Q=u.key.length===1;C&&(u.key==="Tab"&&u.preventDefault(),!j&&Q&&dn(u.key));const ee=G.current;if(u.target!==ee||!$n.includes(u.key))return;u.preventDefault();const N=ue().filter(M=>!M.disabled).map(M=>M.ref.current);Re.includes(u.key)&&N.reverse(),dt(N)}),onBlur:x(e.onBlur,u=>{u.currentTarget.contains(u.target)||(window.clearTimeout(K.current),U.current="")}),onPointerMove:x(e.onPointerMove,k(u=>{const P=u.target,C=J.current!==u.clientX;if(u.currentTarget.contains(P)&&C){const j=u.clientX>J.current?"right":"left";le.current=j,J.current=u.clientX}}))})})})})})})});Ie.displayName=_;var nt="MenuGroup",se=s.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return o.jsx(I.div,{role:"group",...r,ref:t})});se.displayName=nt;var tt="MenuLabel",Ee=s.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return o.jsx(I.div,{...r,ref:t})});Ee.displayName=tt;var B="MenuItem",xe="menu.itemSelect",W=s.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:r,...a}=e,c=s.useRef(null),d=F(B,e.__scopeMenu),l=re(B,e.__scopeMenu),m=O(t,c),h=s.useRef(!1),p=()=>{const i=c.current;if(!n&&i){const f=new CustomEvent(xe,{bubbles:!0,cancelable:!0});i.addEventListener(xe,w=>r?.(w),{once:!0}),fn(i,f),f.defaultPrevented?h.current=!1:d.onClose()}};return o.jsx(je,{...a,ref:m,disabled:n,onClick:x(e.onClick,p),onPointerDown:i=>{e.onPointerDown?.(i),h.current=!0},onPointerUp:x(e.onPointerUp,i=>{h.current||i.currentTarget?.click()}),onKeyDown:x(e.onKeyDown,i=>{const f=l.searchRef.current!=="";n||f&&i.key===" "||ne.includes(i.key)&&(i.currentTarget.click(),i.preventDefault())})})});W.displayName=B;var je=s.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:r=!1,textValue:a,...c}=e,d=re(B,n),l=Se(n),m=s.useRef(null),h=O(t,m),[p,i]=s.useState(!1),[f,w]=s.useState("");return s.useEffect(()=>{const v=m.current;v&&w((v.textContent??"").trim())},[c.children]),o.jsx(T.ItemSlot,{scope:n,disabled:r,textValue:a??f,children:o.jsx(Pn,{asChild:!0,...l,focusable:!r,children:o.jsx(I.div,{role:"menuitem","data-highlighted":p?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...c,ref:h,onPointerMove:x(e.onPointerMove,k(v=>{r?d.onItemLeave(v):(d.onItemEnter(v),v.defaultPrevented||v.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:x(e.onPointerLeave,k(v=>d.onItemLeave(v))),onFocus:x(e.onFocus,()=>i(!0)),onBlur:x(e.onBlur,()=>i(!1))})})})}),ot="MenuCheckboxItem",Ne=s.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:r,...a}=e;return o.jsx(Le,{scope:e.__scopeMenu,checked:n,children:o.jsx(W,{role:"menuitemcheckbox","aria-checked":V(n)?"mixed":n,...a,ref:t,"data-state":ie(n),onSelect:x(a.onSelect,()=>r?.(V(n)?!0:!n),{checkForDefaultPrevented:!1})})})});Ne.displayName=ot;var Ae="MenuRadioGroup",[rt,at]=R(Ae,{value:void 0,onValueChange:()=>{}}),Te=s.forwardRef((e,t)=>{const{value:n,onValueChange:r,...a}=e,c=_e(r);return o.jsx(rt,{scope:e.__scopeMenu,value:n,onValueChange:c,children:o.jsx(se,{...a,ref:t})})});Te.displayName=Ae;var ke="MenuRadioItem",Oe=s.forwardRef((e,t)=>{const{value:n,...r}=e,a=at(ke,e.__scopeMenu),c=n===a.value;return o.jsx(Le,{scope:e.__scopeMenu,checked:c,children:o.jsx(W,{role:"menuitemradio","aria-checked":c,...r,ref:t,"data-state":ie(c),onSelect:x(r.onSelect,()=>a.onValueChange?.(n),{checkForDefaultPrevented:!1})})})});Oe.displayName=ke;var ce="MenuItemIndicator",[Le,st]=R(ce,{checked:!1}),Fe=s.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:r,...a}=e,c=st(ce,n);return o.jsx(X,{present:r||V(c.checked)||c.checked===!0,children:o.jsx(I.span,{...a,ref:t,"data-state":ie(c.checked)})})});Fe.displayName=ce;var ct="MenuSeparator",Ge=s.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return o.jsx(I.div,{role:"separator","aria-orientation":"horizontal",...r,ref:t})});Ge.displayName=ct;var it="MenuArrow",Ke=s.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,a=Y(n);return o.jsx(bn,{...a,...r,ref:t})});Ke.displayName=it;var ut="MenuSub",[Co,Ue]=R(ut),A="MenuSubTrigger",$e=s.forwardRef((e,t)=>{const n=y(A,e.__scopeMenu),r=F(A,e.__scopeMenu),a=Ue(A,e.__scopeMenu),c=re(A,e.__scopeMenu),d=s.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:m}=c,h={__scopeMenu:e.__scopeMenu},p=s.useCallback(()=>{d.current&&window.clearTimeout(d.current),d.current=null},[]);return s.useEffect(()=>p,[p]),s.useEffect(()=>{const i=l.current;return()=>{window.clearTimeout(i),m(null)}},[l,m]),o.jsx(te,{asChild:!0,...h,children:o.jsx(je,{id:a.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":a.contentId,"data-state":ze(n.open),...e,ref:ge(t,a.onTriggerChange),onClick:i=>{e.onClick?.(i),!(e.disabled||i.defaultPrevented)&&(i.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:x(e.onPointerMove,k(i=>{c.onItemEnter(i),!i.defaultPrevented&&!e.disabled&&!n.open&&!d.current&&(c.onPointerGraceIntentChange(null),d.current=window.setTimeout(()=>{n.onOpenChange(!0),p()},100))})),onPointerLeave:x(e.onPointerLeave,k(i=>{p();const f=n.content?.getBoundingClientRect();if(f){const w=n.content?.dataset.side,v=w==="right",S=v?-5:5,E=f[v?"left":"right"],b=f[v?"right":"left"];c.onPointerGraceIntentChange({area:[{x:i.clientX+S,y:i.clientY},{x:E,y:f.top},{x:b,y:f.top},{x:b,y:f.bottom},{x:E,y:f.bottom}],side:w}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>c.onPointerGraceIntentChange(null),300)}else{if(c.onTriggerLeave(i),i.defaultPrevented)return;c.onPointerGraceIntentChange(null)}})),onKeyDown:x(e.onKeyDown,i=>{const f=c.searchRef.current!=="";e.disabled||f&&i.key===" "||Bn[r.dir].includes(i.key)&&(n.onOpenChange(!0),n.content?.focus(),i.preventDefault())})})})});$e.displayName=A;var Be="MenuSubContent",Ve=s.forwardRef((e,t)=>{const n=De(_,e.__scopeMenu),{forceMount:r=n.forceMount,...a}=e,c=y(_,e.__scopeMenu),d=F(_,e.__scopeMenu),l=Ue(Be,e.__scopeMenu),m=s.useRef(null),h=O(t,m);return o.jsx(T.Provider,{scope:e.__scopeMenu,children:o.jsx(X,{present:r||c.open,children:o.jsx(T.Slot,{scope:e.__scopeMenu,children:o.jsx(ae,{id:l.contentId,"aria-labelledby":l.triggerId,...a,ref:h,align:"start",side:d.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:p=>{d.isUsingKeyboardRef.current&&m.current?.focus(),p.preventDefault()},onCloseAutoFocus:p=>p.preventDefault(),onFocusOutside:x(e.onFocusOutside,p=>{p.target!==l.trigger&&c.onOpenChange(!1)}),onEscapeKeyDown:x(e.onEscapeKeyDown,p=>{d.onClose(),p.preventDefault()}),onKeyDown:x(e.onKeyDown,p=>{const i=p.currentTarget.contains(p.target),f=Vn[d.dir].includes(p.key);i&&f&&(c.onOpenChange(!1),l.trigger?.focus(),p.preventDefault())})})})})})});Ve.displayName=Be;function ze(e){return e?"open":"closed"}function V(e){return e==="indeterminate"}function ie(e){return V(e)?"indeterminate":e?"checked":"unchecked"}function dt(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function lt(e,t){return e.map((n,r)=>e[(t+r)%e.length])}function pt(e,t,n){const a=t.length>1&&Array.from(t).every(h=>h===t[0])?t[0]:t,c=n?e.indexOf(n):-1;let d=lt(e,Math.max(c,0));a.length===1&&(d=d.filter(h=>h!==n));const m=d.find(h=>h.toLowerCase().startsWith(a.toLowerCase()));return m!==n?m:void 0}function ft(e,t){const{x:n,y:r}=e;let a=!1;for(let c=0,d=t.length-1;c<t.length;d=c++){const l=t[c],m=t[d],h=l.x,p=l.y,i=m.x,f=m.y;p>r!=f>r&&n<(i-h)*(r-p)/(f-p)+h&&(a=!a)}return a}function mt(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return ft(n,t)}function k(e){return t=>t.pointerType==="mouse"?e(t):void 0}var ht=be,xt=te,vt=Pe,gt=Ie,Mt=se,wt=Ee,_t=W,Ct=Ne,Rt=Te,yt=Oe,St=Fe,bt=Ge,Dt=Ke,Pt=$e,It=Ve,q="DropdownMenu",[Et,Ro]=Me(q,[ye]),g=ye(),[jt,He]=Et(q),Xe=e=>{const{__scopeDropdownMenu:t,children:n,dir:r,open:a,defaultOpen:c,onOpenChange:d,modal:l=!0}=e,m=g(t),h=s.useRef(null),[p,i]=Dn({prop:a,defaultProp:c??!1,onChange:d,caller:q});return o.jsx(jt,{scope:t,triggerId:he(),triggerRef:h,contentId:he(),open:p,onOpenChange:i,onOpenToggle:s.useCallback(()=>i(f=>!f),[i]),modal:l,children:o.jsx(ht,{...m,open:p,onOpenChange:i,dir:r,modal:l,children:n})})};Xe.displayName=q;var Ye="DropdownMenuTrigger",We=s.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...a}=e,c=He(Ye,n),d=g(n);return o.jsx(xt,{asChild:!0,...d,children:o.jsx(I.button,{type:"button",id:c.triggerId,"aria-haspopup":"menu","aria-expanded":c.open,"aria-controls":c.open?c.contentId:void 0,"data-state":c.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...a,ref:ge(t,c.triggerRef),onPointerDown:x(e.onPointerDown,l=>{!r&&l.button===0&&l.ctrlKey===!1&&(c.onOpenToggle(),c.open||l.preventDefault())}),onKeyDown:x(e.onKeyDown,l=>{r||(["Enter"," "].includes(l.key)&&c.onOpenToggle(),l.key==="ArrowDown"&&c.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});We.displayName=Ye;var Nt="DropdownMenuPortal",qe=e=>{const{__scopeDropdownMenu:t,...n}=e,r=g(t);return o.jsx(vt,{...r,...n})};qe.displayName=Nt;var Ze="DropdownMenuContent",Je=s.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=He(Ze,n),c=g(n),d=s.useRef(!1);return o.jsx(gt,{id:a.contentId,"aria-labelledby":a.triggerId,...c,...r,ref:t,onCloseAutoFocus:x(e.onCloseAutoFocus,l=>{d.current||a.triggerRef.current?.focus(),d.current=!1,l.preventDefault()}),onInteractOutside:x(e.onInteractOutside,l=>{const m=l.detail.originalEvent,h=m.button===0&&m.ctrlKey===!0,p=m.button===2||h;(!a.modal||p)&&(d.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Je.displayName=Ze;var At="DropdownMenuGroup",Tt=s.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=g(n);return o.jsx(Mt,{...a,...r,ref:t})});Tt.displayName=At;var kt="DropdownMenuLabel",Qe=s.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=g(n);return o.jsx(wt,{...a,...r,ref:t})});Qe.displayName=kt;var Ot="DropdownMenuItem",en=s.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=g(n);return o.jsx(_t,{...a,...r,ref:t})});en.displayName=Ot;var Lt="DropdownMenuCheckboxItem",Ft=s.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=g(n);return o.jsx(Ct,{...a,...r,ref:t})});Ft.displayName=Lt;var Gt="DropdownMenuRadioGroup",Kt=s.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=g(n);return o.jsx(Rt,{...a,...r,ref:t})});Kt.displayName=Gt;var Ut="DropdownMenuRadioItem",$t=s.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=g(n);return o.jsx(yt,{...a,...r,ref:t})});$t.displayName=Ut;var Bt="DropdownMenuItemIndicator",Vt=s.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=g(n);return o.jsx(St,{...a,...r,ref:t})});Vt.displayName=Bt;var zt="DropdownMenuSeparator",nn=s.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=g(n);return o.jsx(bt,{...a,...r,ref:t})});nn.displayName=zt;var Ht="DropdownMenuArrow",Xt=s.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=g(n);return o.jsx(Dt,{...a,...r,ref:t})});Xt.displayName=Ht;var Yt="DropdownMenuSubTrigger",Wt=s.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=g(n);return o.jsx(Pt,{...a,...r,ref:t})});Wt.displayName=Yt;var qt="DropdownMenuSubContent",Zt=s.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=g(n);return o.jsx(It,{...a,...r,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Zt.displayName=qt;var Jt=Xe,Qt=We,eo=qe,no=Je,to=Qe,oo=en,ro=nn;function ao({...e}){return o.jsx(Jt,{"data-slot":"dropdown-menu",...e})}function so({...e}){return o.jsx(Qt,{"data-slot":"dropdown-menu-trigger",...e})}function co({className:e,sideOffset:t=4,...n}){return o.jsx(eo,{children:o.jsx(no,{"data-slot":"dropdown-menu-content",sideOffset:t,className:H("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",e),...n})})}function ve({className:e,inset:t,variant:n="default",...r}){return o.jsx(oo,{"data-slot":"dropdown-menu-item","data-inset":t,"data-variant":n,className:H("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...r})}function io({className:e,inset:t,...n}){return o.jsx(to,{"data-slot":"dropdown-menu-label","data-inset":t,className:H("px-2 py-1.5 text-sm font-medium data-[inset]:pl-8",e),...n})}function uo({className:e,...t}){return o.jsx(ro,{"data-slot":"dropdown-menu-separator",className:H("bg-border -mx-1 my-1 h-px",e),...t})}function lo({email:e}){const[t,n]=s.useState(!1),r=async()=>{n(!0);try{if(!(await fetch("/api/auth/logout",{method:"POST"})).ok)throw new Error("Logout failed");jn(),window.location.href="/login"}catch(a){console.error("Logout error:",a),n(!1),alert("Failed to logout. Please try again.")}};return o.jsxs(ao,{children:[o.jsx(so,{asChild:!0,children:o.jsxs($,{variant:"ghost",size:"sm",className:"flex items-center space-x-2",disabled:t,children:[o.jsx(Kn,{className:"h-4 w-4"}),o.jsx("span",{className:"text-sm max-w-[150px] truncate hidden sm:inline",children:e})]})}),o.jsxs(co,{align:"end",className:"w-56",children:[o.jsx(io,{children:o.jsxs("div",{className:"flex flex-col space-y-1",children:[o.jsx("p",{className:"text-sm font-medium leading-none",children:"Account"}),o.jsx("p",{className:"text-xs leading-none text-muted-foreground truncate",children:e})]})}),o.jsx(uo,{}),o.jsx(ve,{asChild:!0,className:"cursor-pointer",children:o.jsxs("a",{href:"/profile",className:"flex items-center",children:[o.jsx(On,{className:"mr-2 h-4 w-4"}),o.jsx("span",{children:"Profile"})]})}),o.jsxs(ve,{onClick:r,disabled:t,className:"cursor-pointer text-destructive focus:text-destructive",children:[o.jsx(Fn,{className:"mr-2 h-4 w-4"}),o.jsx("span",{children:t?"Signing out...":"Sign out"})]})]})]})}function po(){const[e,t]=s.useState(null),[n,r]=s.useState(!0);return s.useEffect(()=>{me.auth.getSession().then(({data:{session:c}})=>{t(c?.user??null),r(!1),c?.user&&Nn().catch(()=>{})});const{data:{subscription:a}}=me.auth.onAuthStateChange((c,d)=>{t(d?.user??null),r(!1)});return()=>a.unsubscribe()},[]),{user:e,loading:n}}function fo(){const{user:e,loading:t}=po();return o.jsx("header",{className:"sticky top-0 z-50 w-full border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:o.jsxs("div",{className:"container flex h-14 items-center px-4",children:[o.jsx("div",{className:"mr-6 flex",children:o.jsxs("a",{href:"/",className:"flex items-center space-x-2",children:[o.jsx("img",{src:"/favicon.svg",alt:"SavorAI Logo",className:"h-6 w-6"}),o.jsx("span",{className:"text-xl font-bold",children:"SavorAI"})]})}),e&&!t&&o.jsxs("nav",{className:"hidden md:flex items-center space-x-1 mr-4",children:[o.jsx($,{variant:"ghost",size:"sm",asChild:!0,children:o.jsxs("a",{href:"/app",className:"flex items-center gap-2",children:[o.jsx(Tn,{className:"h-4 w-4"}),"Recipes"]})}),o.jsx($,{variant:"ghost",size:"sm",asChild:!0,children:o.jsxs("a",{href:"/app#generator",className:"flex items-center gap-2",children:[o.jsx(En,{className:"h-4 w-4"}),"Generator"]})})]}),o.jsxs("div",{className:"flex flex-1 items-center justify-end space-x-3",children:[o.jsx(ln,{}),!t&&o.jsx(o.Fragment,{children:e?o.jsx(lo,{email:e.email??"User"}):o.jsx($,{variant:"ghost",size:"sm",asChild:!0,children:o.jsx("a",{href:"/login",children:"Sign In"})})})]})]})})}function yo(){return o.jsx(pn,{children:o.jsx(fo,{})})}export{yo as AppShell};
